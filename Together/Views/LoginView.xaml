<UserControl x:Class="Together.Presentation.Views.LoginView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
             Background="{DynamicResource MaterialDesignPaper}">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <materialDesign:Card Grid.Row="1" 
                            Padding="32" 
                            MaxWidth="400"
                            VerticalAlignment="Center"
                            HorizontalAlignment="Center">
            <StackPanel>
                <!-- Title -->
                <TextBlock Text="Welcome to Together" 
                          Style="{StaticResource MaterialDesignHeadline4TextBlock}"
                          HorizontalAlignment="Center"
                          Margin="0,0,0,8"/>
                
                <TextBlock Text="Sign in to continue" 
                          Style="{StaticResource MaterialDesignBody2TextBlock}"
                          HorizontalAlignment="Center"
                          Margin="0,0,0,24"
                          Foreground="{DynamicResource MaterialDesignBodyLight}"/>

                <!-- Email Field -->
                <TextBox materialDesign:HintAssist.Hint="Email"
                        Style="{StaticResource MaterialDesignOutlinedTextBox}"
                        Text="{Binding Email, UpdateSourceTrigger=PropertyChanged}"
                        Margin="0,0,0,16"/>

                <!-- Password Field -->
                <PasswordBox x:Name="PasswordBox"
                            materialDesign:HintAssist.Hint="Password"
                            Style="{StaticResource MaterialDesignOutlinedPasswordBox}"
                            Margin="0,0,0,8"
                            PasswordChanged="PasswordBox_OnPasswordChanged"/>

                <!-- Error Message -->
                <TextBlock Text="{Binding ErrorMessage}"
                          Foreground="{DynamicResource MaterialDesignValidationErrorBrush}"
                          TextWrapping="Wrap"
                          Margin="0,0,0,16"
                          Visibility="{Binding ErrorMessage, Converter={StaticResource StringToVisibilityConverter}}"/>

                <!-- Login Button -->
                <Button Content="SIGN IN"
                       Command="{Binding LoginCommand}"
                       Style="{StaticResource MaterialDesignRaisedButton}"
                       IsEnabled="{Binding IsLoading, Converter={StaticResource InverseBooleanConverter}}"
                       Margin="0,0,0,16"/>

                <!-- Progress Bar -->
                <ProgressBar IsIndeterminate="True"
                            Visibility="{Binding IsLoading, Converter={StaticResource BooleanToVisibilityConverter}}"
                            Margin="0,0,0,16"/>

                <!-- Register Link -->
                <StackPanel Orientation="Horizontal" 
                           HorizontalAlignment="Center">
                    <TextBlock Text="Don't have an account? " 
                              Style="{StaticResource MaterialDesignBody2TextBlock}"/>
                    <Button Content="Sign Up"
                           Command="{Binding NavigateToRegisterCommand}"
                           Style="{StaticResource MaterialDesignFlatButton}"
                           Padding="4,0"/>
                </StackPanel>
            </StackPanel>
        </materialDesign:Card>
    </Grid>
</UserControl>
